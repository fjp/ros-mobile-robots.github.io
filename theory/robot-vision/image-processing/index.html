
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://ros-mobile-robots.com/theory/robot-vision/image-processing/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.5">
    
    
      
        <title>Image Processing - DiffBot Differential Drive Mobile Robot</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.be71726b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
    <script src="../../../js/jquery-3.5.1.min.js"></script>
    <script src="../../../js/jquery.fitvids.js"></script>
    <!-- Arithmatex -->
    <script src="../../../js/config.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- UML diagrams using Mermaid -->
    <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, securityLevel: "loose" });
    </script>
    <!-- Adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2214309606626131"
     crossorigin="anonymous"></script>
    <!-- Cookie consent -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
    <!-- katex minified versions -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.2/dist/katex.min.css" integrity="sha384-Cqd8ihRLum0CCg8rz0hYKPoLZ3uw+gES2rXQXycqnL5pgVQIflxAUDS7ZSjITLb5" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.2/dist/katex.min.js" integrity="sha384-1Or6BdeNQb0ezrmtGeqQHFpppNd7a/gw29xeiSikBbsb44xu3uAo8c7FwbF5jhbd" crossorigin="anonymous"></script>

    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      

  


  

  


  <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-5Z9V7GPRX3"),document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof location$&&location$.subscribe(function(t){gtag("config","G-5Z9V7GPRX3",{page_path:t.pathname})})})</script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5Z9V7GPRX3"></script>


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#image-filtering" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DiffBot Differential Drive Mobile Robot" class="md-header__button md-logo" aria-label="DiffBot Differential Drive Mobile Robot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DiffBot Differential Drive Mobile Robot
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Image Processing
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/ros-mobile-robots/diffbot/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../components/" class="md-tabs__link">
      Components
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Robotics Theory
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../motion-and-odometry/" class="md-tabs__link">
        Hardware and Theory
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../rpi-setup/" class="md-tabs__link">
        Processing Units
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../packages/" class="md-tabs__link">
        Packages
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DiffBot Differential Drive Mobile Robot" class="md-nav__button md-logo" aria-label="DiffBot Differential Drive Mobile Robot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    DiffBot Differential Drive Mobile Robot
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ros-mobile-robots/diffbot/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../components/" class="md-nav__link">
        Components
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Robotics Theory
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Robotics Theory" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Robotics Theory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Theory behind Robotics
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        Modeling and Control
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Modeling and Control" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Modeling and Control
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modeling-control/control-systems-introduction/" class="md-nav__link">
        Introduction to Control Systems
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modeling-control/robot-representations/" class="md-nav__link">
        Representations and models
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modeling-control/modeling-differential-drive-robot/" class="md-nav__link">
        Modeling a Differential Drive Robot
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modeling-control/odometry/" class="md-nav__link">
        Odometry
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" checked>
      
      <label class="md-nav__link" for="__nav_3_3">
        Robot Vision
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Robot Vision" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Robot Vision
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pinhole-camera-model/" class="md-nav__link">
        Pinhole Camera Model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../camera-calibration/" class="md-nav__link">
        Camera Calibration
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Image Processing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Image Processing
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#image-filtering" class="md-nav__link">
    Image Filtering
  </a>
  
    <nav class="md-nav" aria-label="Image Filtering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequency-in-images" class="md-nav__link">
    Frequency in Images
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linear-filtering-and-convolution" class="md-nav__link">
    Linear Filtering and Convolution
  </a>
  
    <nav class="md-nav" aria-label="Linear Filtering and Convolution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradient-and-sobel-filter" class="md-nav__link">
    Gradient and Sobel Filter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-blurring-and-low-pass-filter" class="md-nav__link">
    Image Blurring and Low-pass Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaussian-kernels" class="md-nav__link">
    Gaussian Kernels
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convolutional-neural-networks" class="md-nav__link">
    Convolutional Neural Networks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canny-edge-detection" class="md-nav__link">
    Canny Edge Detection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shape-detection" class="md-nav__link">
    Shape Detection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../object-detection/overview.md" class="md-nav__link">
        Object Detection
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../estimatione-localization/overview.md" class="md-nav__link">
        State Estimation and Localization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../planning1/overview.md" class="md-nav__link">
        Planning I
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../planning2/overview.md" class="md-nav__link">
        Planning II
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../reinforcement-learning/overview.md" class="md-nav__link">
        Learning by Reinforcement
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../imitation-learning/overview.md" class="md-nav__link">
        Learning by Imitation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Hardware and Theory
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Hardware and Theory" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Hardware and Theory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../motion-and-odometry/" class="md-nav__link">
        Motion and Odometry
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../power-supply/" class="md-nav__link">
        Power Supply
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../laser-range-scanner/" class="md-nav__link">
        Laser Range Scanner
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Processing Units
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Processing Units" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Processing Units
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../rpi-setup/" class="md-nav__link">
        Raspberry Pi Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../jetson-nano-setup/" class="md-nav__link">
        Jetson Nano Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../git-setup/" class="md-nav__link">
        Git Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../ros-setup/" class="md-nav__link">
        ROS Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../teensy-mcu/" class="md-nav__link">
        Teensy MCU
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware-interfaces/" class="md-nav__link">
        Hardware Interfaces
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../ros-network-setup/" class="md-nav__link">
        ROS Network Setup
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Packages
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Packages" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Packages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../packages/" class="md-nav__link">
        Packages
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_robot/" class="md-nav__link">
        Robot Package
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      <label class="md-nav__link" for="__nav_6_3">
        Robot Description
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Robot Description" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Robot Description
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../robot-description/" class="md-nav__link">
        Robot Description
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../packages/remo_description/" class="md-nav__link">
        Remo Description
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_gazebo/" class="md-nav__link">
        Simulation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_control/" class="md-nav__link">
        Control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_base/" class="md-nav__link">
        Base Hardware Interface
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_msgs/" class="md-nav__link">
        Messages
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../grove_motor_driver/" class="md-nav__link">
        Motor Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../DG01D-E-motor-with-encoder/" class="md-nav__link">
        Motor and Encoder
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_navigation/" class="md-nav__link">
        Navigation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_slam/" class="md-nav__link">
        SLAM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_mbf/" class="md-nav__link">
        Move Base Flex
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../diffbot_bringup/" class="md-nav__link">
        Hardware Bringup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../packages/raspicam_node/" class="md-nav__link">
        Rasperry Pi Camera
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#image-filtering" class="md-nav__link">
    Image Filtering
  </a>
  
    <nav class="md-nav" aria-label="Image Filtering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequency-in-images" class="md-nav__link">
    Frequency in Images
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linear-filtering-and-convolution" class="md-nav__link">
    Linear Filtering and Convolution
  </a>
  
    <nav class="md-nav" aria-label="Linear Filtering and Convolution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradient-and-sobel-filter" class="md-nav__link">
    Gradient and Sobel Filter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-blurring-and-low-pass-filter" class="md-nav__link">
    Image Blurring and Low-pass Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaussian-kernels" class="md-nav__link">
    Gaussian Kernels
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convolutional-neural-networks" class="md-nav__link">
    Convolutional Neural Networks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canny-edge-detection" class="md-nav__link">
    Canny Edge Detection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shape-detection" class="md-nav__link">
    Shape Detection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              



                
                  <a href="https://github.com/ros-mobile-robots/ros-mobile-robots.github.io/tree/main/docs/theory/robot-vision/image-processing.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Image Processing</h1>
                
                <h2 id="image-filtering">Image Filtering</h2>
<p>The concept of (spacial) frequency in images is important to filter certain frequencies and thus enhance or dampen certain features of an image,
such as corners or edges.</p>
<h3 id="frequency-in-images">Frequency in Images</h3>
<p>As with 1-D signals, frequency in images describes a rate of change in pixel intensities.</p>
<p>The Fourier Transform (FT) is an important image processing tool which is used to decompose an image into its frequency components. 
The output of an FT represents the image in the frequency domain, while the input image is the spatial domain (x, y) equivalent.</p>
<ul>
<li><a href="https://docs.opencv.org/4.5.3/de/dbc/tutorial_py_fourier_transform.html">OpenCV Fourier Transform</a></li>
</ul>
<h3 id="linear-filtering-and-convolution">Linear Filtering and Convolution</h3>
<ul>
<li><a href="https://docs.opencv.org/4.5.2/d4/d13/tutorial_py_filtering.html">OpenCV Filtering Tutorial</a></li>
</ul>
<h4 id="gradient-and-sobel-filter">Gradient and Sobel Filter</h4>
<p>Gradients are a measure of intensity change in an image. As images are treated as functions <span class="arithmatex">\(I(x,y)\)</span>, 
the gradient is the derivative of this function <span class="arithmatex">\(I'(x,y)\)</span>, describing the change in intensity <span class="arithmatex">\(\Delta I\)</span> at pixel locations <span class="arithmatex">\(x\)</span> and <span class="arithmatex">\(y\)</span>.</p>
<p>The Sobel filter is very commonly used in edge detection and in finding patterns in intensity in an image. 
Applying a Sobel filter to an image is a way of taking (an approximation) of the derivative of the image in the <span class="arithmatex">\(x\)</span> or <span class="arithmatex">\(y\)</span> direction.</p>
<div class="arithmatex">\[
S_x = \begin{matrix}
        -1 &amp; 0 &amp; 1 \\
        -2 &amp; 0 &amp; 2 \\
        -1 &amp; 0 &amp; 1 \\
      \end{matrix}
\]</div>
<div class="arithmatex">\[
S_y = \begin{matrix}
        -1 &amp; -2 &amp; -1 \\
        0 &amp; 0 &amp; 0 \\
        1 &amp; 2 &amp; 1 \\
      \end{matrix}
\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO add image examples</p>
</div>
<ul>
<li>Magnitude: <span class="arithmatex">\(S = \sqrt{S_x^2 + S_y^2}\)</span></li>
<li>Direction: <span class="arithmatex">\(\theta = \atan2{S_y, S_x}\)</span></li>
</ul>
<p>For more details see also the <a href="https://en.wikipedia.org/wiki/Sobel_operator">Sobel operator on Wikipedia</a>.</p>
<h3 id="image-blurring-and-low-pass-filter">Image Blurring and Low-pass Filter</h3>
<p>To block noise in an image, use a filter that filters high frequencies, e.g. specle or discoloration, and let low frequency components of an image pass, such as smooth surfaces.</p>
<p>Without blurring the image and therefore removing the high-frequnecy noise, a preceding high-pass filtering step would also amplify the noise.
To enhance only the high-frequency edges, it is common to first apply a low-pass filter, which basically takes an average of neighbouring pixels.</p>
<p>A simple filter to blur or low-pass filter an image is the normalized average filter:</p>
<div class="arithmatex">\[
1/9 \begin{matrix}
     1 &amp; 1 &amp; 1 \\
     1 &amp; 1 &amp; 1 \\
     1 &amp; 1 &amp; 1 \\
    \end{matrix}
\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Normalization is important to avoid brightening the image and therefore maintain the same energy.
For the averiging filter the pixel values sum to one: <span class="arithmatex">\(1/9 (1+1+1 + 1+1+1 + 1+1+1)=1\)</span></p>
</div>
<h3 id="gaussian-kernels">Gaussian Kernels</h3>
<p>Gaussian kernels are used to blur/smooth an image and therefore block high frequency parts of an image.
Compared to an averageing filter, Gaussian kernels better preserve edges.</p>
<p>The gaussian kernel can be seen as a weighted average, which gives the most weight to the center pixel.</p>
<div class="arithmatex">\[
1/16 \begin{matrix}
     1 &amp; 2 &amp; 1 \\
     2 &amp; 4 &amp; 2 \\
     1 &amp; 2 &amp; 1 \\
    \end{matrix}
\]</div>
<p>As with the average filter, the values of the gaussian filter sum to one <span class="arithmatex">\(1/16 (1+2+1 + 2+4+2 + 1+2+1)=1\)</span>. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An even better method to preserve edges are <a href="https://docs.opencv.org/4.5.3/d4/d86/group__imgproc__filter.html#ga9d7064d478c95d60003cf839430737ed">bilateral filters</a>.
It is highly effective in noise removal while keeping edges sharp. But the operation is slower compared to other filters.</p>
</div>
<p>Read more about the math behind <a href="https://en.wikipedia.org/wiki/Gaussian_blur">Gaussian filters on Wikipedia</a> 
and also see the OpenCV documentation of the <a href="https://docs.opencv.org/4.5.3/d4/d86/group__imgproc__filter.html#gaabe8c836e97159a9193fb0b11ac52cf1"><code>GaussianBlur</code></a> function.</p>
<h3 id="convolutional-neural-networks">Convolutional Neural Networks</h3>
<p>Convolutional neural networks consist of convolutional layers which are made up of similar filters defined previously.
The only difference is that neural networks learn to create filters themselfes through gradient descent and error back propagation.
The weights of a convolutional neural network that it updates during training are the values inside the filter kernels.</p>
<p>In deep convolutional neural networks the individual filter kernels are stacked which increases the depth of a convolutional filter (or kernel), 
similar to the channels of a color image are stacked. Using stacked filters yields more features from an input image but also increases the number of learnable weights (filter values). In traditional filters the values of filter weights were set explicitly, 
but neural networks will actually learn the best filter weights as they train on a set of image data.</p>
<h3 id="canny-edge-detection">Canny Edge Detection</h3>
<p>OpenCV provides the <a href="https://docs.opencv.org/4.5.3/da/d22/tutorial_py_canny.html"><code>Canny</code></a> edge detector, which 
is a widely used edge detection algorithm that performs the following steps:</p>
<ol>
<li><strong>Filters out noise</strong> using a Gaussian blur</li>
<li><strong>Finds the strength and direction of edges</strong> using Sobel filters</li>
<li>Applies <strong>non-maximum suppression</strong> to isolate the strongest edges and thin them to one-pixel wide lines.</li>
<li>Uses <strong>hysteresis to isolate the best edges</strong> using low and high thresholds to cut/pass intensity values.</li>
</ol>
<p>Canny edge detection eliminates weak edges and noise and isolates edges that are part of an object boundary.
Read more about the <a href="https://en.wikipedia.org/wiki/Canny_edge_detector">Canny edge detection algorithm on Wikipedia</a>.</p>
<h3 id="shape-detection">Shape Detection</h3>
<p>So far we defined image filters for smoothing images and detecting the edges (high-frequency) components of objects in an image. 
Using this knowledge about pattern recognition in images enables one to begin identifying unique shapes and then objects.</p>
<p>Edges to Boundaries and Shapes
To find unifying boundaries around objects to separate and locate multiple objects in a given image, the Hough transform can be used.
It transforms image data from the x-y coordinate system into Hough space, where you can easily identify simple boundaries like lines and circles.</p>
<p>The Hough transform is used in a variety of shape-recognition applications. A Hough transform can find the edges of driving lanes.</p>
<p>See <a href="https://homepages.inf.ed.ac.uk/rbf/HIPR2/hough.htm">this resource</a> on Hough transform and also the 
<a href="https://en.wikipedia.org/wiki/Hough_transform">Wikipedia article</a> about it. An example is found in the <a href="https://docs.opencv.org/3.4/d9/db0/tutorial_hough_lines.html">OpenCV Hough lines tutorial</a></p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://learning.edx.org/course/course-v1:ETHx+DT-01x+1T2021/block-v1:ETHx+DT-01x+1T2021+type@sequential+block@c443df0997224ccab9f2c3f762fcc086/block-v1:ETHx+DT-01x+1T2021+type@vertical+block@bc207d642e644b67989c59dbbcb9a0c6">Self-driving cars with Duckietown</a></li>
<li><a href="https://docs.opencv.org/4.5.3/de/dbc/tutorial_py_fourier_transform.html">OpenCV Fourier Transform</a></li>
<li><a href="https://docs.opencv.org/4.5.3/d4/d13/tutorial_py_filtering.html">OpenCV Filtering tutorial</a></li>
<li><a href="https://en.wikipedia.org/wiki/Sobel_operator">Wikipedia Sobel operator</a></li>
</ul>
                
              

              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../camera-calibration/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Camera Calibration" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Camera Calibration
            </div>
          </div>
        </a>
      
      
        
        <a href="../../motion-and-odometry/" class="md-footer__link md-footer__link--next" aria-label="Next: Motion and Odometry" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Motion and Odometry
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 - 2021 Franz Pucher | <a href="https://www.ros-mobile-robots.com/privacy-policy/">Privacy Policy</a> | <a href="https://www.ros-mobile-robots.com/legal-notice/">Legal Notice</a>
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
    
      <script src="../../../assets/javascripts/bundle.56a63758.min.js"></script>
      
    
    <script>
        $(document).ready(function(){
            // Target your .container, .wrapper, .post, etc.
            $(".md-main").fitVids();
        });
    </script>
    <!-- cookie consent -->
    <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
    <script>
    window.cookieconsent.initialise({
    "palette": {
        "popup": {
        "background": "#edeff5",
        "text": "#838391"
        },
        "button": {
        "background": "#4b81e8"
        }
    },
    "theme": "classic"
    });
    </script>

  </body>
</html>